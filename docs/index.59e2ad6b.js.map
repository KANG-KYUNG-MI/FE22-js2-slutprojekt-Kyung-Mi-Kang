{"mappings":"AAcA,MAAMA,EAAWC,SAASC,eAAe,YACnCC,EAAgBF,SAASC,eAAe,YACxCE,EAAgBH,SAASC,eAAe,YAC9C,IAAIG,EAAsB,GAE1B,MAAMC,EAAsBC,aAAaC,QAAQ,eACjDC,QAAQC,IAAIJ,GAEZ,MAAMK,EAA0BC,KAAKC,MAAMP,GAM3CQ,eAAeC,IACX,MACMC,QAAiBC,MADX,qFAENC,QAAcF,EAASG,OAE7B,OADAd,EAAQa,EACDA,CACX,CAXAT,QAAQC,IAAIC,GAcZI,IAAUK,MAAMF,IACZT,QAAQC,IAAIQ,GAEZ,IAAIG,EAAcC,OAAOC,KAAKL,GAE9B,OADAT,QAAQC,IAAIW,GACLA,CAAA,IAGNG,OAAOC,IAAWhB,QAAQC,IAAIe,EAAA,IAKnChB,QAAQC,IAAI,kBAAkBgB,MAAM,KAAK,IAEzC1B,EAAS2B,iBAAiB,SAAUC,IAChC,IAAIC,EAAW1B,EAAc2B,MACzBC,EAAW3B,EAAc0B,MAC7BF,EAAEI,iBACFjB,IAYJ,SAAsBkB,GAElB,IAAIJ,EAAW1B,EAAc2B,MACzBC,EAAW3B,EAAc0B,MACzBT,EAAcC,OAAOC,KAAKU,GAE9BX,OAAOY,OAAOD,GAAOE,SAAQ,CAACC,EAAMC,KAChC,GAAIR,IAAaO,EAAKP,UAAYE,IAAaK,EAAKL,SAAU,CAC1DO,OAAOC,SAASC,KAAO,mBACvB,IAAIC,EAAoB,CAEpBV,SAAUK,EAAKL,SACfF,SAAUO,EAAKP,SACfa,IAAKN,EAAKM,IACVC,QAAStB,EAAYgB,IAGrBO,GADkBrC,aAAasC,QAAQ,eAAgBjC,KAAKkC,UAAUL,IAC/C7B,KAAKC,MAAMN,aAAaC,QAAQ,kBAC3DC,QAAQC,IAAIkC,EAChB,IAGJ,CAjCAG,CAAa1C,GAGTiB,OAAOY,OAAO7B,GAAO2C,MAAMZ,GAASP,IAAaO,EAAKP,UAAYE,IAAaK,EAAKL,YACpFkB,MAAM,kBAGV9C,EAAc2B,MAAQ,GACtB1B,EAAc0B,MAAQ","sources":["src/index.ts"],"sourcesContent":["export type userType = {\n    address: string,\n    username: string,\n    password: string,\n    pic: string\n}\n\nexport type localStorageType = {\n    address: string,\n    username: string,\n    password: string,\n    pic: string,\n}\n\nconst logInBtn = document.getElementById('logInBtn') as HTMLButtonElement;\nconst userNameInput = document.getElementById('UserName') as HTMLInputElement;\nconst passwordInput = document.getElementById('password') as HTMLInputElement;\nlet users: any | object = [];\n\nconst allUserInfo: string = localStorage.getItem('allUserInfo') as string;\nconsole.log(allUserInfo);\n\nconst allUserInfoList: object = JSON.parse(allUserInfo) as object\nconsole.log(allUserInfoList);\n\nlet userAddress: object\n\n\nasync function getData() {\n    const url = 'https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users.json'\n    const response = await fetch(url);\n    const items = await response.json();\n    users = items\n    return items\n}\n\n\ngetData().then((items) => {\n    console.log(items);\n\n    let userAddress = Object.keys(items)\n    console.log(userAddress);\n    return userAddress;\n\n})\n    .catch((error) => {console.log(error)\n       // alert('User not found')\n    }\n    );\n\nconsole.log('kyung@gmail.com'.split('@')[0])\n\nlogInBtn.addEventListener('click', (e) => {\n    let username = userNameInput.value;\n    let password = passwordInput.value;\n    e.preventDefault();\n    getData();\n    setLoginUser(users);\n\n    \n    if(!Object.values(users).find((user) => username === user.username && password === user.password))   {\n        alert('User not found')\n    }\n\n    userNameInput.value = '';\n    passwordInput.value = '';\n})\n\nfunction setLoginUser(users) {\n\n    let username = userNameInput.value;\n    let password = passwordInput.value;\n    let userAddress = Object.keys(users)\n\n    Object.values(users).forEach((user, index) => {\n        if (username === user.username && password === user.password) {\n            window.location.href = './home/home.html';\n            let newUser: userType = {\n\n                password: user.password,\n                username: user.username,\n                pic: user.pic,\n                address: userAddress[index]\n            }\n            let setPersonalInfo = localStorage.setItem('personalInfo', JSON.stringify(newUser))\n            let personalInfo: string = JSON.parse(localStorage.getItem('personalInfo') as string);\n            console.log(personalInfo);\n        } \n    }\n  )\n    } "],"names":["$b4e14b6b8da86996$var$logInBtn","document","getElementById","$b4e14b6b8da86996$var$userNameInput","$b4e14b6b8da86996$var$passwordInput","$b4e14b6b8da86996$var$users","$b4e14b6b8da86996$var$allUserInfo","localStorage","getItem","console","log","$b4e14b6b8da86996$var$allUserInfoList","JSON","parse","async","$b4e14b6b8da86996$var$getData","response","fetch","items","json","then","userAddress","Object","keys","catch","error","split","addEventListener","e","username","value","password","preventDefault","users","values","forEach","user","index","window","location","href","newUser","pic","address","personalInfo","setItem","stringify","$b4e14b6b8da86996$var$setLoginUser","find","alert"],"version":3,"file":"index.59e2ad6b.js.map"}