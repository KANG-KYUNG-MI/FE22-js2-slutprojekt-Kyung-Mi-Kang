{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-eb60e47a34488df4.js","src/myAccount/myAccount.ts","node_modules/@parcel/runtime-js/lib/runtime-08b50a2adfce58c0.js","node_modules/@parcel/runtime-js/lib/runtime-77d5544b9932390e.js","node_modules/@parcel/runtime-js/lib/runtime-8ee735fd0a5f6850.js","node_modules/@parcel/runtime-js/lib/runtime-bedfc3e51892963c.js","node_modules/@parcel/runtime-js/lib/runtime-11742b600fef00e9.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dOGNV\\\":\\\"myAccount.bd225a48.js\\\",\\\"abxcp\\\":\\\"Brown.a9beda0a.jpg\\\",\\\"1Fupy\\\":\\\"Choco.9b8eb164.jpg\\\",\\\"Zz5rb\\\":\\\"ConMuzi.987b79ea.jpg\\\",\\\"5CL5F\\\":\\\"Selly.80e40361.jpg\\\",\\\"l9g2R\\\":\\\"Bye.1deed048.png\\\"}\"));","\r\nlet personalInfoLS: string = localStorage.getItem('personalInfo') as string;\r\nlet personalInfo: object = JSON.parse(personalInfoLS);\r\nconsole.log(personalInfo);\r\n\r\nlet myPicture: string = personalInfo.pic;\r\nlet personalInfoAddress: string = personalInfo.address as string;\r\n\r\nconst myPicContainer = document.getElementById('myPicContainer') as HTMLDivElement\r\nconst personalInfoContainer = document.getElementById('personalInfoContainer') as HTMLDivElement;\r\nconst container = document.getElementById('container') as HTMLDivElement;\r\n\r\ndisplayItems(personalInfo)\r\nfunction displayItems(items: object): any {\r\n\r\n  container.innerHTML = createHtmlString(items)\r\n\r\n  function createHtmlString(item: any) {\r\n    let domObject: string;\r\n    if (item.pic == \"Brown.jpg\")\r\n      domObject = `<img src=\"${new URL(\"../media/Brown.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\r\n    else if (item.pic == \"Choco.jpg\")\r\n      domObject = `<img src=\"${new URL(\"../media/Choco.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\r\n    else if (item.pic == \"ConMuzi.jpg\")\r\n    domObject = `<img src=\"${new URL(\"../media/ConMuzi.jpg\", import.meta.url).toString()}\" alt=\"pfp\">` \r\n      else \r\n      domObject = `<img src=\"${new URL(\"../media/Selly.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\r\n\r\n    return domObject + `\r\n    <div class=\"item\"> \r\n      \r\n        <p class=\"item_name\">Name: ${item.username.split('@')[0]}</p>     \r\n    </div>\r\n        `;\r\n    //<img src=\"${item.pic}\" alt=\"\", class=\"item_img\" />\r\n   // <p class=\"item_id\">ID: ${item.id}</p>   \r\n   //<p class=\"item_password\">Password: ${item.password}</p>    \r\n  }\r\n}\r\n\r\nconst deleteBtn = document.getElementById('deleteBtn') as HTMLButtonElement\r\n\r\nasync function deleteData(Address:string) {\r\n  const response = await fetch(\r\n    `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users/${Address}.json`,\r\n    {\r\n      method: 'DELETE',\r\n    }\r\n  );\r\n\r\n  return response;\r\n}\r\n\r\ndeleteBtn.addEventListener('click', (e) => {\r\n  e.preventDefault();\r\n  console.log(personalInfoAddress);\r\n  deleteData(personalInfoAddress);\r\n  localStorage.clear();\r\n  displayItems1()\r\ndeleteBtn.style.display = \"none\";\r\n  container.innerHTML=\"\";\r\n\r\n});\r\n\r\n\r\nfunction displayItems1(){\r\nconst img = document.createElement('img') as HTMLImageElement;\r\nconst imgUrl = new URL(`../media/Bye.png`, import.meta.url);\r\nimg.src = imgUrl.toString()\r\nmyPicContainer.appendChild(img);\r\n}\r\n\r\nconst password = document.getElementById('password');\r\nconst userName = document.getElementById('name');\r\nconst pic = document.getElementById('pic');\r\nconst updateBtn = document.getElementById('updateBtn');\r\n\r\nlet newName;\r\nuserName.addEventListener('change', (e) => {\r\n  e.preventDefault();\r\n  newName = e.target.value;\r\n});\r\n\r\nlet newPassword;\r\npassword.addEventListener('change', (e) => {\r\n  e.preventDefault();\r\n  newPassword = e.target.value;\r\n  console.log(newPassword);\r\n});\r\n\r\nlet newPic = document.querySelectorAll('[name=\"pic\"] option')[1].value;\r\npic.addEventListener('change', (e) => {\r\n  e.preventDefault();\r\n  newPic = e.target.value;\r\n  \r\n});\r\n\r\nupdateBtn.addEventListener('click', (e) => {\r\n  e.preventDefault();\r\n  patchName(newName, newPassword, newPic);\r\n\r\n  userName.value = '';\r\n  password.value = '';\r\n  pic.value = '';\r\n\r\n\r\n});\r\n\r\n\r\nasync function patchName(newName, newPassword, newPic) {\r\n\r\nconst url = `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users/${personalInfoAddress}.json`;\r\n\r\n  const init = {\r\n    method: 'PATCH',\r\n    body: JSON.stringify({username: newName, password: newPassword, pic: newPic }),\r\n    headers: {\r\n      'Content-type': 'application/json; charset=UTF-8',\r\n    },\r\n  };\r\n\r\n  // const response = await fetch(url, init);\r\n  // const id = await response.json();\r\n  // console.log(id);\r\n\r\n  try {\r\n    const response = await fetch(url, init);\r\n    const data = await response.json();\r\n    console.log(data);\r\n    localStorage.setItem('personalInfo', JSON.stringify(data))\r\n\r\n    alert('You have successfully registered');\r\n    window.location.reload()\r\n    newPic = data.newPic;\r\n\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"abxcp\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"1Fupy\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"Zz5rb\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"5CL5F\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"l9g2R\")).toString();"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f486a07a2a9ae877$var$personalInfoLS","localStorage","getItem","$f486a07a2a9ae877$var$personalInfo","console","log","pic","$f486a07a2a9ae877$var$personalInfoAddress","address","$f486a07a2a9ae877$var$myPicContainer","document","getElementById","$f486a07a2a9ae877$var$container","items","innerHTML","item","domObject","URL","$ea864c8a3f3a5010$exports","toString","$fec97df6124a3d6b$exports","$70507af263e398ae$exports","$a6bcd8a50ded6c19$exports","username","split","createHtmlString","resolve","url","$f486a07a2a9ae877$var$deleteBtn","addEventListener","e","preventDefault","async","Address","fetch","method","$f486a07a2a9ae877$var$deleteData","clear","img","createElement","imgUrl","$6d42e3caf59da007$exports","src","appendChild","$f486a07a2a9ae877$var$displayItems1","style","display","$f486a07a2a9ae877$var$password","$f486a07a2a9ae877$var$userName","$f486a07a2a9ae877$var$pic","$f486a07a2a9ae877$var$updateBtn","$f486a07a2a9ae877$var$newName","$f486a07a2a9ae877$var$newPassword","target","value","$f486a07a2a9ae877$var$newPic","querySelectorAll","newName","newPassword","newPic","init","body","stringify","password","headers","response","data","json","setItem","alert","window","location","reload","error","$f486a07a2a9ae877$var$patchName"],"version":3,"file":"myAccount.bd225a48.js.map"}