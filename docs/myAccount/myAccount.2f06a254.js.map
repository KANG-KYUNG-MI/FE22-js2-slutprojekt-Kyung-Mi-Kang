{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-eb60e47a34488df4.js","src/myAccount/myAccount.ts","node_modules/@parcel/runtime-js/lib/runtime-08b50a2adfce58c0.js","node_modules/@parcel/runtime-js/lib/runtime-77d5544b9932390e.js","node_modules/@parcel/runtime-js/lib/runtime-8ee735fd0a5f6850.js","node_modules/@parcel/runtime-js/lib/runtime-bedfc3e51892963c.js","node_modules/@parcel/runtime-js/lib/runtime-11742b600fef00e9.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"dOGNV\\\":\\\"myAccount.2f06a254.js\\\",\\\"abxcp\\\":\\\"Brown.a9beda0a.jpg\\\",\\\"1Fupy\\\":\\\"Choco.9b8eb164.jpg\\\",\\\"Zz5rb\\\":\\\"ConMuzi.987b79ea.jpg\\\",\\\"5CL5F\\\":\\\"Selly.80e40361.jpg\\\",\\\"l9g2R\\\":\\\"Bye.1deed048.png\\\"}\"));","\nimport { localStorageType } from \"index\";\nlet personalInfoLS: string = localStorage.getItem('personalInfo') as string;\nlet personalInfo: localStorageType = JSON.parse(personalInfoLS);\nconsole.log(personalInfo);\nconsole.log(new URLSearchParams(location.search));\n\nlet myPicture: string = personalInfo.pic;\nlet personalInfoAddress: string = personalInfo.address as string;\n\nconst myPicContainer = document.getElementById('myPicContainer') as HTMLDivElement\n//const personalInfoContainer = document.getElementById('personalInfoContainer') as HTMLDivElement;\nconst container = document.getElementById('container') as HTMLDivElement;\n  //console.log(new URL(\"../media/Choco.jpg\", import.meta.url).toString())\n\ndisplayItems(personalInfo)\nfunction displayItems(items: object): any {\n\n  container.innerHTML = createHtmlString(items)\n\n\n  function createHtmlString(item: any) {\n    let domObject: string;\n    console.warn(import.meta.url);\n    console.warn(item);\n    console.warn(new URL(\"../media/Brown.jpg\", import.meta.url).toString())\n    \n    if (item.pic == \"Brown.jpg\")\n      domObject = `<img src=\"${new URL(\"../media/Brown.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\n    else if (item.pic == \"Choco.jpg\")\n      domObject = `<img src=\"${new URL(\"../media/Choco.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\n    else if (item.pic == \"ConMuzi.jpg\")\n    domObject = `<img src=\"${new URL(\"../media/ConMuzi.jpg\", import.meta.url).toString()}\" alt=\"pfp\">` \n      else \n      domObject = `<img src=\"${new URL(\"../media/Selly.jpg\", import.meta.url).toString()}\" alt=\"pfp\">`\n\n    return domObject + `\n    <div class=\"item\"> \n      \n        <p class=\"item_name\">Name: ${item.username.split('@')[0]}</p>     \n    </div>\n        `;\n    //<img src=\"${item.pic}\" alt=\"\", class=\"item_img\" />\n   // <p class=\"item_id\">ID: ${item.id}</p>   \n   //<p class=\"item_password\">Password: ${item.password}</p>    \n  }\n}\n\nconst deleteBtn = document.getElementById('deleteBtn') as HTMLButtonElement\n\nasync function deleteData(Address:string) {\n  const response = await fetch(\n    `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users/${Address}.json`,\n    {\n      method: 'DELETE',\n    }\n  );\n\n  return response;\n}\n\ndeleteBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n  console.log(personalInfoAddress);\n  deleteData(personalInfoAddress);\n  localStorage.clear();\n  displayItems1()\ndeleteBtn.style.display = \"none\";\n  container.innerHTML=\"\";\n\n});\n\n\nfunction displayItems1(){\n  const img = document.createElement('img') as HTMLImageElement;\n  const imgUrl = new URL(`../media/Bye.png`, import.meta.url);\n  console.log(\"testing\",imgUrl);\n  \n  img.src = imgUrl.toString()\n  myPicContainer.appendChild(img);\n}\n\nconst password = document.getElementById('password');\nconst userName = document.getElementById('name');\nconst pic = document.getElementById('pic');\nconst updateBtn = document.getElementById('updateBtn');\n\nlet newName;\nuserName.addEventListener('change', (e) => {\n  e.preventDefault();\n  newName = e.target.value;\n});\n\nlet newPassword;\npassword.addEventListener('change', (e) => {\n  e.preventDefault();\n  newPassword = e.target.value;\n  console.log(newPassword);\n});\n\nlet newPic = document.querySelectorAll('[name=\"pic\"] option')[1].value;\npic.addEventListener('change', (e) => {\n  e.preventDefault();\n  newPic = e.target.value;\n  \n});\n\nupdateBtn.addEventListener('click', (e) => {\n  e.preventDefault();\n  patchName(newName, newPassword, newPic);\n\n  userName.value = '';\n  password.value = '';\n  pic.value = '';\n\n\n});\n\n\nasync function patchName(newName, newPassword, newPic) {\n\nconst url = `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users/${personalInfoAddress}.json`;\n\n  const init = {\n    method: 'PATCH',\n    body: JSON.stringify({username: newName, password: newPassword, pic: newPic }),\n    headers: {\n      'Content-type': 'application/json; charset=UTF-8',\n    },\n  };\n\n  // const response = await fetch(url, init);\n  // const id = await response.json();\n  // console.log(id);\n\n  try {\n    const response = await fetch(url, init);\n    const data = await response.json();\n    console.log(data);\n    localStorage.setItem('personalInfo', JSON.stringify(data))\n\n    alert('You have successfully registered');\n    window.location.reload()\n    newPic = data.newPic;\n\n\n  } catch (error) {\n    console.log(error);\n  }\n}\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"abxcp\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"1Fupy\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"Zz5rb\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"5CL5F\")).toString();","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"l9g2R\")).toString();"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f486a07a2a9ae877$var$personalInfoLS","localStorage","getItem","$f486a07a2a9ae877$var$personalInfo","console","log","URLSearchParams","location","search","pic","$f486a07a2a9ae877$var$personalInfoAddress","address","$f486a07a2a9ae877$var$myPicContainer","document","getElementById","$f486a07a2a9ae877$var$container","items","innerHTML","item","domObject","warn","URL","$ea864c8a3f3a5010$exports","toString","$fec97df6124a3d6b$exports","$70507af263e398ae$exports","$a6bcd8a50ded6c19$exports","username","split","createHtmlString","resolve","url","$f486a07a2a9ae877$var$deleteBtn","addEventListener","e","preventDefault","async","Address","fetch","method","$f486a07a2a9ae877$var$deleteData","clear","img","createElement","imgUrl","$6d42e3caf59da007$exports","src","appendChild","$f486a07a2a9ae877$var$displayItems1","style","display","$f486a07a2a9ae877$var$password","$f486a07a2a9ae877$var$userName","$f486a07a2a9ae877$var$pic","$f486a07a2a9ae877$var$updateBtn","$f486a07a2a9ae877$var$newName","$f486a07a2a9ae877$var$newPassword","target","value","$f486a07a2a9ae877$var$newPic","querySelectorAll","newName","newPassword","newPic","init","body","stringify","password","headers","response","data","json","setItem","alert","window","reload","error","$f486a07a2a9ae877$var$patchName"],"version":3,"file":"myAccount.2f06a254.js.map"}