{"mappings":"AAOAA,eAAeC,IAEX,MACMC,QAAiBC,MADZ,qFAELC,QAAcF,EAASG,OAG7B,OAFAC,QAAQC,IAAIH,GAELA,CACT,CAEAH,IACGO,MAAMC,IACLH,QAAQC,IAAIE,GACZC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUJ,GAAA,IAGpDK,OAAOC,GAAUT,QAAQC,IAAIQ,KAElC,MAAMC,EAAsBN,aAAaO,QAAQ,eAEzCC,EAAkBN,KAAKO,MAAMH,GAGnC,IAAKI,EAAYC,OAAOC,OAAOJ,GAASK,OACxCjB,QAAQC,IAAIa,GAECI,SAASC,eAAe,QACrC,IAAIC,EAAgBF,SAASC,eAAe,iBACxCE,EAAYH,SAASC,eAAe,aACpCG,EAAeJ,SAASC,eAAe,gBAEvCI,EAAYL,SAASC,eAAe,UAGpCK,GAFYN,SAASC,eAAe,iBAEhB,CACtBM,GAAI,EACJC,SAAU,GACVC,SAAU,GACVC,IAAK,KAGPJ,EAAQI,IAAMV,SAASW,iBAAiB,uBAAuB,GAAGC,MA6BlET,EAAUU,iBAAiB,UAAWC,IACpCR,EAAQE,SAAWM,EAAGC,OAA4BH,MAClD9B,QAAQC,IAAI+B,EAAEC,QACdjC,QAAQC,IAAIuB,GACZxB,QAAQC,IAAIuB,EAAQE,SAAQ,IAI9BN,EAAcW,iBAAiB,UAAWC,IACxCR,EAAQG,SAAWK,EAAGC,OAA4BH,MAClD9B,QAAQC,IAAIuB,EAAQG,SAAQ,IAI9BL,EAAaS,iBAAiB,UAAWC,IACvCR,EAAQI,IAAMI,EAAGC,OAA6BH,MAC9C9B,QAAQC,IAAIuB,EAAQI,IAAG,IAGzBL,EAAUQ,iBAAiB,SAAUC,IAEnC,GADAA,EAAEE,iBACwB,KAAvBZ,EAAaQ,MAAc,OAAOK,MAAM,yBAC3CX,EAAQI,IAAMN,EAAaQ,MAE3BN,EAAQC,GAAKX,EAnDfpB,eAAwB0C,GACtB,MACMC,EAAO,CACXC,OAAQ,OACRC,KAAMjC,KAAKC,UAAU6B,GACrBI,QAAS,CACP,eAAgB,oCAIpB,IACE,MAAM5C,QAAiBC,MAVb,oFAUwBwC,SACfzC,EAASG,OAC5BC,QAAQC,IAAImC,GAEZ,IAAIK,EAAkBrC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAU6B,IAEtEM,EAAwBpC,KAAKO,MAAMT,aAAaO,QAAQ,iBAC5DX,QAAQC,IAAIwC,EAAgBC,GAC5BP,MAAM,mCAER,CAAE,MAAO1B,GACPT,QAAQC,IAAIQ,EACd,CACF,CA4BEkC,CAASnB,GACT7B,IAEAiD,YAAW,WAETC,OAAOC,SAASC,QAClB,GAAG,KAEH3B,EAAcU,MAAQ,GACtBT,EAAUS,MAAQ,GAClBR,EAAaQ,MAAQ","sources":["src/signUp/signUp.ts"],"sourcesContent":["type userType={\r\n  id: number,\r\n  username: string,\r\n  password: string,\r\n  pic: string\r\n}\r\n\r\nasync function showItems() {\r\n   \r\n    const url =`https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users.json`\r\n    const response = await fetch(url);\r\n    const items = await response.json();\r\n    console.log(items);\r\n  \r\n    return items;\r\n  }\r\n\r\n  showItems()\r\n    .then((data) => {\r\n      console.log(data);\r\n      localStorage.setItem('allUserInfo', JSON.stringify(data));\r\n      \r\n    })\r\n    .catch((error) => console.log(error));\r\n\r\nconst isDataExits: string = localStorage.getItem('allUserInfo') as string;\r\n  \r\n  const allInfo: object = JSON.parse(isDataExits);\r\n // console.log(allInfo);\r\n  \r\n  let  id:number = Object.values(allInfo).length;\r\n  console.log(id);\r\n  \r\n  const form = document.getElementById('form') ! as HTMLFormElement;\r\n  let enterPassword = document.getElementById('enterPassword')! as HTMLInputElement;\r\n  let enterName = document.getElementById('enterName')! as HTMLInputElement;\r\n  let enterPicture = document.getElementById('enterPicture')! as HTMLInputElement;\r\n  \r\n  let insertBtn = document.getElementById('insert')! as HTMLButtonElement;\r\n  let signUpBtn = document.getElementById('ConfirmSignUp')! as HTMLButtonElement;\r\n  \r\n  let newUser: userType = {\r\n    id: 0,\r\n    username: '',\r\n    password: '',\r\n    pic: '',\r\n  };\r\n  \r\n  newUser.pic = document.querySelectorAll('[name=\"pic\"] option')[1].value;\r\n\r\n  async function postItem(newUser: object) {\r\n    const url = `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/users.json`;\r\n    const init = {\r\n      method: 'POST',\r\n      body: JSON.stringify(newUser),\r\n      headers: {\r\n        'Content-type': 'application/json; charset=UFT-8',\r\n      },\r\n    };\r\n  \r\n    try {\r\n      const response = await fetch(url, init);\r\n      const data = await response.json();\r\n      console.log(newUser);\r\n  \r\n      let setPersonalInfo = localStorage.setItem('personalInfo', JSON.stringify(newUser))\r\n\r\n      let personalInfo: string  = JSON.parse(localStorage.getItem('personalInfo') as string);\r\n      console.log(setPersonalInfo,personalInfo);\r\n      alert('You have successfully registered');\r\n  \r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  \r\n  \r\n  enterName.addEventListener('change', (e) => {\r\n    newUser.username = (e.target as HTMLInputElement).value;\r\n    console.log(e.target);\r\n    console.log(newUser); \r\n    console.log(newUser.username);\r\n    \r\n  });\r\n  \r\n  enterPassword.addEventListener('change', (e) => {\r\n    newUser.password = (e.target as HTMLInputElement).value;\r\n    console.log(newUser.password);\r\n  });\r\n  \r\n  \r\n  enterPicture.addEventListener('change', (e) => {\r\n    newUser.pic = (e.target as HTMLSelectElement).value;\r\n    console.log(newUser.pic);\r\n  });\r\n  \r\n  insertBtn.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    if(enterPicture.value === '') return alert('Please insert picture');\r\n    newUser.pic = enterPicture.value;\r\n\r\n    newUser.id = id;\r\n    postItem(newUser);\r\n    showItems();\r\n    \r\n    setTimeout(function(){\r\n\r\n      window.location.reload()\r\n    }, 3000)\r\n  \r\n    enterPassword.value = '';\r\n    enterName.value = '';\r\n    enterPicture.value = '';\r\n\r\n\r\n  });\r\n  \r\n  // let goToSecond = document.querySelector('.goToMyAccount') as HTMLDivElement;;\r\n  // //const logo = document.querySelector('.logo');\r\n  \r\n  // goToSecond.addEventListener('click', (e) => {\r\n  //   e.preventDefault();\r\n    \r\n  //   location.assign('../myAccount/myAccount.html');\r\n  // });\r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // enterName.addEventListener('change', (e) => {\r\n  //   newUser.name = e.target.value;\r\n  //   console.log(newUser.name);\r\n  // });\r\n  \r\n  // enterPassword.addEventListener('change', (e) => {\r\n  //   newUser.password = e.target.value;\r\n  //   console.log(newUser.password);\r\n  // });\r\n  \r\n  // enterPicture.addEventListener('change', (e) => {\r\n  //   newUser.pic = e.target.value;\r\n  //   console.log(newUser.pic);\r\n  // });\r\n  \r\n  // insertBtn.addEventListener('click', (e) => {\r\n  //   e.preventDefault();\r\n  //   console.log(newUser);\r\n  //   putData(newUser, newIndex);\r\n  //   showItems()\r\n  \r\n  //   enterName.value = '';\r\n  //   enterPassword.value = '';\r\n  //   enterPicture.value = '';\r\n  // });\r\n  \r\n  // async function putData(newUser, newIndex) {\r\n  //   const url = `https://js2-slutprojekt-default-rtdb.europe-west1.firebasedatabase.app/${newIndex}.json`;\r\n  \r\n  //   const init = {\r\n  //     method: 'PUT',\r\n  //     body: JSON.stringify(newUser),\r\n  //     headers: {\r\n  //       'Content-type': 'application/json; charset=UTF-8',\r\n  //     },\r\n  //   };\r\n  \r\n  //   const response = await fetch(url, init);\r\n  //   const data = await response.json();\r\n  //   showItems()\r\n  // }\r\n  \r\n  // function putItemsIntoLocalstorage(items) {\r\n  //   localStorage.setItem('personalInfo', JSON.stringify(items));\r\n  \r\n  //   // if (!localStorage.getItem('personalInfo')) {\r\n  //   //   localStorage.setItem('personalInfo', '[]');\r\n  //   // }\r\n  // }\r\n  \r\n  // signUpBtn.addEventListener('click',(e)=>{\r\n  //   e.preventDefault();\r\n  //   onButtonClick();\r\n  // })\r\n  \r\n  // function onButtonClick(event, productsIndex) {\r\n  //   playAnime()\r\n  //   console.log(productsIndex);\r\n  //   console.log(productsIndex.id);\r\n  \r\n  //   const productId = productsIndex.id;\r\n  //   addItemToCart(productId);\r\n  // }\r\n  \r\n  // // Adding the product in the cart\r\n  // function addItemToCart(productId) {\r\n  //   let product = products.find(function (product) {\r\n  //     return product.id == productId;\r\n  //   });\r\n  \r\n  //   if (cart.length == 0) {\r\n  //     cart.push(product);\r\n  //   } else {\r\n  //     let res = cart.find((element) => element.id == productId);\r\n  \r\n  //     if (res === undefined) {\r\n  //       cart.push(product);\r\n  //     }\r\n  //   }\r\n  //   console.log(cart);\r\n  //   localStorage.setItem('cart', JSON.stringify(cart));\r\n  \r\n  //   const cartQuantity = document.querySelector('.cart-qty');\r\n  //   cartQuantity.innerText = cart.length;\r\n  // }\r\n  "],"names":["async","$3dabc50bf2594758$var$showItems","response","fetch","items","json","console","log","then","data","localStorage","setItem","JSON","stringify","catch","error","$3dabc50bf2594758$var$isDataExits","getItem","$3dabc50bf2594758$var$allInfo","parse","$3dabc50bf2594758$var$id","Object","values","length","document","getElementById","$3dabc50bf2594758$var$enterPassword","$3dabc50bf2594758$var$enterName","$3dabc50bf2594758$var$enterPicture","$3dabc50bf2594758$var$insertBtn","$3dabc50bf2594758$var$newUser","id","username","password","pic","querySelectorAll","value","addEventListener","e","target","preventDefault","alert","newUser","init","method","body","headers","setPersonalInfo","personalInfo","$3dabc50bf2594758$var$postItem","setTimeout","window","location","reload"],"version":3,"file":"signUp.57c0a3bf.js.map"}